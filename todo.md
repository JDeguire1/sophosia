- [ ] backend
  - id
    - [x] `nanoid = customAlphabet("A...Z", 8)`
    - [x] projectId uses this format `SP${nanoid()}`
    - [x] annotationId uses this format `SA${nanoid()}`
    - [x] folderId uses this format `SF${nanoid()}`
    - [x] pdfStateId uses this format `SS${nanoid()}`
  - [ ] note
    - noteid uses projectId/filename
    - think about how the Note data lives in the program, do we need to change that?
    - [ ] getNote
      - given a noteId, return note data. projectId can be told from the noteId
    - [ ] getAllNote
      - search folders recursively, use getNote on all of them
    - [ ] add note
      - [x] table rename note immediately after adding note
      - [ ] add note only after renaming
    - [ ] rename note
      - [ ] check name duplication
      - [ ] change id in db
    - [ ] delete note
    - [ ] edit note
  - [x] put all images to a single folder `.sophosia/image`
- [x] prelimary test
  - [x] unable to open note in production mode
  - [x] vditor is loading everything from https://unpkg.com/vditor@{version} ..., change it to local files
  - [x] also failed to apply stylesheet because of the content security issue, not sure how to make it load (the stylesheet should be the one in src/css/vditor)
  - [x] able to use relative path in link in production mode
